{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Docker FoodWeb All: Start",
      "type": "shell",
      "dependsOn": [
        "Docker FoodWeb: Start",
        "Docker FoodWeb Admin: Start"
      ],
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb All: Stop",
      "type": "shell",
      "dependsOn": [
        "Docker FoodWeb: Stop",
        "Docker FoodWeb Admin: Stop"
      ],
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb All: Reinstall Dependencies",
      "type": "shell",
      "dependsOn": [
        "Docker FoodWeb: Reinstall Dependencies",
        "Docker FoodWeb Admin: Reinstall Dependencies"
      ],
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Start",
      "type": "shell",
      "command": "docker-compose up -d foodweb",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Stop",
      "type": "shell",
      "dependsOn": [
        "Docker FoodWeb: Stop Client",
        "Docker FoodWeb: Stop Server"
      ],
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Stop Client",
      "type": "shell",
      "command": "docker-compose stop foodweb",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Stop Server",
      "type": "shell",
      "command": "docker-compose stop foodweb-server",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb Admin: Start",
      "type": "shell",
      "command": "docker-compose up -d foodweb-admin",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb Admin: Stop",
      "type": "shell",
      "dependsOn": [
        "Docker FoodWeb Admin: Stop Client",
        "Docker FoodWeb Admin: Stop Server"
      ],
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb Admin: Stop Client",
      "type": "shell",
      "command": "docker-compose stop foodweb-admin",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb Admin: Stop Server",
      "type": "shell",
      "command": "docker-compose stop foodweb-admin-server",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Reinstall Dependencies",
      "type": "shell",
      "dependsOn": [
        "Docker FoodWeb: Reinstall Client Dependencies",
        "Docker FoodWeb: Reinstall Server Dependencies"
      ],
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Reinstall Client Dependencies",
      "type": "shell",
      "command": "docker exec -it foodweb bash -c 'npm run install:all'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Reinstall Server Dependencies",
      "type": "shell",
      "command": "docker exec -it foodweb-server bash -c 'npm run install:all'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb Admin: Reinstall Dependencies",
      "type": "shell",
      "dependsOn": [
        "Docker FoodWeb Admin: Reinstall Client Dependencies",
        "Docker FoodWeb Admin: Reinstall Server Dependencies"
      ],
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb Admin: Reinstall Client Dependencies",
      "type": "shell",
      "command": "docker exec -it foodweb-admin bash -c 'npm run install:all'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb Admin: Reinstall Server Dependencies",
      "type": "shell",
      "command": "docker exec -it foodweb-admin-server bash -c 'npm run install:all'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Reinitialize Postgres Database",
      "type": "shell",
      "command": "docker exec -it foodweb-server bash -c 'npm run pg:initialize'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Make Postgres Timestamps Relevant",
      "type": "shell",
      "command": "docker exec -it foodweb-server bash -c 'npm run pg:make-timestamps-relevant'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Dump Postgres Database",
      "type": "shell",
      "command": "docker exec -it foodweb-server bash -c 'npm run pg:dump ${input:dumpFileName}'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Restore Postgres Database",
      "type": "shell",
      "command": "docker exec -it foodweb-server bash -c 'npm run pg:restore ${input:restoreFileName}'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Destroy Postgres Database",
      "type": "shell",
      "command": "docker exec -it foodweb-server bash -c 'npm run pg:destroy'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Generate TypeORM Migration",
      "type": "shell",
      "command": "docker-compose run --rm foodweb-server bash -c 'npm run typeorm:migration:generate ${input:typeOrmMigrationName}'",
      "group": "none",
      "dependsOn": [
        "Docker FoodWeb: Stop Server",
        "Docker FoodWeb Admin: Stop Server"
      ],
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Create TypeORM Migration",
      "type": "shell",
      "command": "docker-compose run --rm foodweb-server bash -c 'npm run typeorm:migration:create ${input:typeOrmMigrationName}'",
      "group": "none",
      "dependsOn": [
        "Docker FoodWeb: Stop Server",
        "Docker FoodWeb Admin: Stop Server"
      ],
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Run TypeORM Migrations",
      "type": "shell",
      "command": "docker-compose run --rm foodweb-server bash -c 'npm run typeorm:migration:run'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker FoodWeb: Revert TypeORM Migrations",
      "type": "shell",
      "command": "docker-compose run --rm foodweb-server bash -c 'npm run typeorm:migration:revert'",
      "group": "none",
      "problemMatcher": []
    },
    {
      "label": "Docker Logs",
      "type": "shell",
      "command": "docker-compose logs -f --tail=100",
      "group": "none",
      "problemMatcher": []
    }
  ],
  "inputs": [
    {
      "id": "typeOrmMigrationName",
      "description": "Enter the new TypeORM migration name:",
      "type": "promptString"
    },
    {
      "id": "dumpFileName",
      "description": "Enter the dump file name:",
      "default": "",
      "type": "promptString"
    },
    {
      "id": "restoreFileName",
      "description": "Enter the restore file name:",
      "default": "",
      "type": "promptString"
    },
    {
      "id": "sqlExecOpts",
      "description": "Enter the psql execution options:",
      "default": "",
      "type": "promptString"
    }
  ]
}
