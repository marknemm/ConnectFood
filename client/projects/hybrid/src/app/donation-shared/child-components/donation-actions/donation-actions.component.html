<div class="action-footer">
  <div class="action-row" *ngIf="donationActionsService.canAccessAction('Edit')">
    <hr>
    <div *ngIf="!hideActionHints" class="action-hint">
      <strong>Tip</strong>: Feel free to delete or edit your donation any time before a volunteer starts the delivery.
    </div>
    <ion-button
      *ngIf="donationActionsService.canAccessAction('Delete')"
      color="warn"
      class="delete-button"
      (clickConfirm)="action.emit('Delete')"
      foodwebConfirmButton
      confirmTitle="Confirm Delete"
      confirmMessage="Are you sure you want to permanently delete the donation?">
      Delete Donation
    </ion-button>
    <ion-button [routerLink]="[donationActionsService.editUrl, donation.id]" [state]="{ donation: donation }" class="edit-button">
      Edit Donation
    </ion-button>
  </div>

  <div class="action-row" *ngIf="donationActionsService.canAccessAction('Claim')">
    <hr>
    <div *ngIf="!hideActionHints" class="action-hint">
      <strong>Tip</strong>: Browse this donation's details below, and feel free to claim it if you wish to receive it.
    </div>
    <ion-button (click)="action.emit('Claim')">
      Claim Donation
    </ion-button>
  </div>

  <div class="action-row" *ngIf="donationActionsService.canAccessAction('Unclaim')">
    <hr>
    <div *ngIf="!hideActionHints" class="action-hint">
      <strong>Tip</strong>: Feel free to unclaim this donation any time before a volunteer starts the delivery.
    </div>
    <ion-button foodwebConfirmButton color="warn"
      (clickConfirm)="action.emit('Unclaim')" confirmTitle="Confirm Unclaim" confirmMessage="Are you sure you want to unclaim the donation?">
      Unclaim Donation
    </ion-button>
  </div>

  <div class="action-row" *ngIf="donationActionsService.canAccessAction('ScheduleDelivery')">
    <hr>
    <div *ngIf="!hideActionHints" class="action-hint">
      <strong>Tip</strong>: Browse this delivery's details below, and feel free to schedule it if it works well for you.
    </div>
    <ion-button (click)="action.emit('ScheduleDelivery')">
      Schedule Delivery
    </ion-button>
  </div>

  <div class="action-row" *ngIf="canAccessDeliveryStatusActions">
    <hr>
    <div *ngIf="deliveryActionRequiredTxt && !hideActionHints" class="action-hint">
      <strong>Action Required</strong>: {{ deliveryActionRequiredTxt }}
    </div>

    <ion-button
      *ngIf="donationActionsService.canAccessAction('UndoDeliveryState')"
      foodwebConfirmButton
      color="warn"
      confirmTitle="Confirm {{ deliveryRevertTxt }}"
      [confirmMessage]="confirmDeliveryUndoMessage"
      (clickConfirm)="action.emit('UndoDeliveryState')">
      {{ deliveryRevertTxt }}
    </ion-button>

    <ion-button
      *ngIf="donationActionsService.canAccessAction('AdvanceDeliveryState')"
      (click)="action.emit('AdvanceDeliveryState')">
      {{ deliveryAdvanceTxt }}
    </ion-button>
  </div>
</div>
