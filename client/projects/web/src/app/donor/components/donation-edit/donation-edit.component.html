<form [formGroup]="editForm" class="edit-donation page">
  <div *ngIf="!donationNotFound; else notFoundTmpl" class="page-title">
    {{ pageTitleService.title }}
  </div>

  <ng-template #notFoundTmpl>
    <div class="not-found">
      Donation not found
    </div>
  </ng-template>

  <ng-container *ngIf="originalDonation">
    <mat-card class="donation-edit">
      <mat-card-content>
        <foodweb-donation-form [formGroup]="editForm" class="donation-form"></foodweb-donation-form>
      </mat-card-content>
    </mat-card>

    <mat-card>
      <mat-card-title>Pickup Window</mat-card-title>
      <mat-card-content>
        <foodweb-date-time-range [formGroup]="editForm.get('pickupWindow')" [editable]="true"></foodweb-date-time-range>
      </mat-card-content>
    </mat-card>

    <mat-card>
      <mat-card-title>Contact Info</mat-card-title>
      <mat-card-content>
        <foodweb-contact-info [formGroup]="editForm.get('donorContactOverride')" [editable]="true"></foodweb-contact-info>
      </mat-card-content>
    </mat-card>

    <div class="align-right">
      <foodweb-edit-save-button
        [useButtonText]="true"
        [editable]="true"
        [disableSave]="!editForm.valid"
        [control]="editForm"
        (edit)="cancelEdit()"
        (save)="saveDonation()"
      ></foodweb-edit-save-button>
    </div>
  </ng-container>
</form>
