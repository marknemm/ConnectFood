<mat-card *ngIf="donation" class="donation-workflow-card">
  <mat-card-content class="donation-workflow-card-content">

    <ul class="donation-workflow">
      <ng-container *ngFor="let step of workflowSteps">
        <li
          *ngIf="showAllStatuses || isWorkflowStepActive(step)"
          class="step donation-status {{ step.class }}"
          [ngClass]="{ 'active with-border': isWorkflowStepActive(step) }"
        >
          <div class="title">
            <span *ngIf="isWorkflowStepActive(step)" class="inline-label">Current Status:</span>
            <span>{{ step.title }}</span>
          </div>

          <p class="description">{{ getStepDescription(step) }}</p>

          <ng-container *ngIf="isWorkflowStepActive(step)">
            <button mat-button type="button" class="toggle-show-all-statuses" (click)="toggleShowAllStatuses()">
              {{ toggleShowAllStatusesTxt }}
            </button>

            <span class="actions">
              <food-web-donation-actions #actions
                [donation]="donation"
                [myAccount]="myAccount"
                [donationUpdateForm]="donationUpdateForm"
                (action)="action.emit($event)">
              </food-web-donation-actions>
            </span>
          </ng-container>
        </li>
      </ng-container>
    </ul>

  </mat-card-content>
</mat-card>
